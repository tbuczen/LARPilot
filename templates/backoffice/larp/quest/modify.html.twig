{% extends 'backoffice/larp/base.html.twig' %}
{% import 'macros/ui_components.html.twig' as ui %}
{% import 'includes/story_object_tabs.html.twig' as tabs_macro %}

{% block larp_content %}
    {% if quest is defined and quest.id %}
        {% include 'includes/story_object_header.html.twig' with {
            storyObject: quest,
            storyObjectType: 'larp.quest.singular',
            mentionsCount: mentions|length
        } %}

        {{ tabs_macro.tabs('details', quest, 'quest', larp, mentions|length, true) }}
    {% endif %}

    <div class="tab-pane border border-top-0 p-3">
        {{ form_start(form) }}
        {{ form_widget(form) }}

        {{ ui.form_actions(
            quest is defined and quest.id ? 'save' : 'create',
            'bi-check-circle',
            path('backoffice_larp_story_quest_list', { larp: larp.id })
        ) }}
        {{ form_end(form) }}
    </div>
{% endblock %}

{% block larp_title %}{{ (quest is defined and quest.id ? 'larp.quest.modify' : 'larp.quest.create')|trans }} - {{ larp.title }}{% endblock %}
